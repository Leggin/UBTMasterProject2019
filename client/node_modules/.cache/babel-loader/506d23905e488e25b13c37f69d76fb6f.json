{"ast":null,"code":"import _classCallCheck from \"/home/nicolas/Dokumente/Github/drizzle_react/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/nicolas/Dokumente/Github/drizzle_react/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/nicolas/Dokumente/Github/drizzle_react/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/nicolas/Dokumente/Github/drizzle_react/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/nicolas/Dokumente/Github/drizzle_react/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/nicolas/Dokumente/Github/drizzle_react/client/src/TaskTableComponent.js\";\nimport React from \"react\";\nimport { Table } from 'semantic-ui-react';\nimport * as c from './Constants.js';\nimport \"./TaskTableComponent.css\";\n\nvar TaskTableComponent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(TaskTableComponent, _React$Component);\n\n  function TaskTableComponent(props) {\n    var _this;\n\n    _classCallCheck(this, TaskTableComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TaskTableComponent).call(this, props));\n    _this.state = {\n      getTasksDataKey: null,\n      tasksData: [],\n      getTaskByIdDataKeys: []\n    };\n    _this.first = true;\n    return _this;\n  }\n\n  _createClass(TaskTableComponent, [{\n    key: \"getTaskEnumById\",\n    value: function getTaskEnumById(id) {\n      var res;\n      c.TASKTYPES.forEach(function (taskType) {\n        if (Number(taskType.value) === Number(id)) {\n          res = taskType.text;\n        }\n      });\n      return res;\n    }\n  }, {\n    key: \"formatTaskRequirements\",\n    value: function formatTaskRequirements(reqs) {\n      var reqString = \"\";\n      reqs.forEach(function (req) {\n        reqString += req + \", \";\n      });\n      return reqString.slice(0, reqString.length - 2);\n    }\n  }, {\n    key: \"formatTaskStatus\",\n    value: function formatTaskStatus(status) {\n      if (status) {\n        return \"Completed\";\n      }\n\n      return \"Not Completed\";\n    }\n  }, {\n    key: \"getAllTasks\",\n    value: function getAllTasks() {\n      var tasks = [];\n      var ccmState = this.props.drizzleState.contracts.ContractCollaborationManager;\n      var tasksObject = ccmState.getTasks[this.state.getTasksDataKey];\n\n      if (tasksObject) {\n        var taskIds = tasksObject.value;\n\n        for (var index = 0; index < taskIds.length; index++) {\n          var _tasksObject = ccmState.getTaskById[this.state.getTaskByIdDataKeys[index]];\n\n          if (_tasksObject) {\n            tasks.push({\n              description: _tasksObject.value.description,\n              tasktype: _tasksObject.value.tasktype,\n              stateowner: _tasksObject.value.stateowner,\n              requirements: _tasksObject.value.requirements,\n              status: _tasksObject.value.status,\n              id: index\n            });\n          }\n        }\n      }\n\n      return tasks;\n    }\n  }, {\n    key: \"createTableContent\",\n    value: function createTableContent(tasksObject) {\n      var cells = [];\n      var ccmState = this.props.drizzleState.contracts.ContractCollaborationManager;\n\n      if (tasksObject) {\n        var taskIds = tasksObject.value;\n\n        for (var index = 0; index < taskIds.length; index++) {\n          var _tasksObject2 = ccmState.getTaskById[this.state.getTaskByIdDataKeys[index]];\n\n          if (_tasksObject2) {\n            cells.push(React.createElement(Table.Row, {\n              key: taskIds[index],\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 79\n              },\n              __self: this\n            }, React.createElement(Table.Cell, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 80\n              },\n              __self: this\n            }, taskIds[index]), React.createElement(Table.Cell, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 81\n              },\n              __self: this\n            }, _tasksObject2.value.description), React.createElement(Table.Cell, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 82\n              },\n              __self: this\n            }, this.getTaskEnumById(_tasksObject2.value.tasktype)), React.createElement(Table.Cell, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 83\n              },\n              __self: this\n            }, _tasksObject2.value.stateowner), React.createElement(Table.Cell, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 84\n              },\n              __self: this\n            }, this.formatTaskRequirements(_tasksObject2.value.requirements)), React.createElement(Table.Cell, {\n              error: !_tasksObject2.value.status,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 85\n              },\n              __self: this\n            }, this.formatTaskStatus(_tasksObject2.value.status))));\n          }\n        }\n      }\n\n      return cells;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var contract = this.props.drizzle.contracts.ContractCollaborationManager;\n      var getTasksDataKey = contract.methods.getTasks.cacheCall();\n      var ids = [];\n      var getTaskByIdDataKeys = [];\n\n      for (var i = 0; i < 100; i++) {\n        ids.push(i);\n      }\n\n      ids.forEach(function (id) {\n        getTaskByIdDataKeys.push(contract.methods.getTaskById.cacheCall(id));\n      });\n      this.setState({\n        getTasksDataKey: getTasksDataKey,\n        getTaskByIdDataKeys: getTaskByIdDataKeys\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var ccmState = this.props.drizzleState.contracts.ContractCollaborationManager;\n      var tasksObject = ccmState.getTasks[this.state.getTasksDataKey];\n      var newCells = this.createTableContent(tasksObject);\n      console.log(this.getAllTasks());\n      return React.createElement(\"div\", {\n        className: \"task-table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(Table, {\n        celled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(Table.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Table.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Task Id\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Description\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Type\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Owner\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Requirements\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Status\"))), React.createElement(Table.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, newCells)));\n    }\n  }]);\n\n  return TaskTableComponent;\n}(React.Component);\n\nexport default TaskTableComponent;","map":{"version":3,"sources":["/home/nicolas/Dokumente/Github/drizzle_react/client/src/TaskTableComponent.js"],"names":["React","Table","c","TaskTableComponent","props","state","getTasksDataKey","tasksData","getTaskByIdDataKeys","first","id","res","TASKTYPES","forEach","taskType","Number","value","text","reqs","reqString","req","slice","length","status","tasks","ccmState","drizzleState","contracts","ContractCollaborationManager","tasksObject","getTasks","taskIds","index","getTaskById","push","description","tasktype","stateowner","requirements","cells","getTaskEnumById","formatTaskRequirements","formatTaskStatus","contract","drizzle","methods","cacheCall","ids","i","setState","newCells","createTableContent","console","log","getAllTasks","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Table } from 'semantic-ui-react'\nimport * as c from './Constants.js'\nimport \"./TaskTableComponent.css\"\n\nclass TaskTableComponent extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            getTasksDataKey: null,\n            tasksData: [],\n            getTaskByIdDataKeys: []\n        }\n        this.first = true;\n    }\n\n    getTaskEnumById(id) {\n        let res;\n        c.TASKTYPES.forEach(taskType => {\n            if (Number(taskType.value) === Number(id)) {\n                res = taskType.text;\n            }\n        });\n        return res;\n    }\n\n    formatTaskRequirements(reqs) {\n        let reqString = \"\";\n        reqs.forEach(req => {\n            reqString += req + \", \"\n        });\n        return reqString.slice(0, reqString.length - 2)\n    }\n\n    formatTaskStatus(status) {\n        if (status) {\n            return \"Completed\"\n        }\n        return \"Not Completed\"\n    }\n\n    getAllTasks() {\n        let tasks = [];\n        const ccmState = this.props.drizzleState.contracts.ContractCollaborationManager;\n        const tasksObject = ccmState.getTasks[this.state.getTasksDataKey];\n\n        if (tasksObject) {\n            const taskIds = tasksObject.value;\n\n            for (let index = 0; index < taskIds.length; index++) {\n                const tasksObject = ccmState.getTaskById[this.state.getTaskByIdDataKeys[index]];\n                if (tasksObject) {\n                    tasks.push({\n                        description: tasksObject.value.description,\n                        tasktype: tasksObject.value.tasktype,\n                        stateowner: tasksObject.value.stateowner,\n                        requirements: tasksObject.value.requirements,\n                        status: tasksObject.value.status,\n                        id: index,\n                    });\n                }\n            }\n        }\n        return tasks;\n    }\n\n    createTableContent(tasksObject) {\n        const cells = []\n        const ccmState = this.props.drizzleState.contracts.ContractCollaborationManager;\n\n        if (tasksObject) {\n            const taskIds = tasksObject.value;\n\n            for (let index = 0; index < taskIds.length; index++) {\n                const tasksObject = ccmState.getTaskById[this.state.getTaskByIdDataKeys[index]];\n                if (tasksObject) {\n\n                    cells.push(<Table.Row key={taskIds[index]}>\n                        <Table.Cell>{taskIds[index]}</Table.Cell>\n                        <Table.Cell>{tasksObject.value.description}</Table.Cell>\n                        <Table.Cell>{this.getTaskEnumById(tasksObject.value.tasktype)}</Table.Cell>\n                        <Table.Cell>{tasksObject.value.stateowner}</Table.Cell>\n                        <Table.Cell>{this.formatTaskRequirements(tasksObject.value.requirements)}</Table.Cell>\n                        <Table.Cell error={!tasksObject.value.status} >{this.formatTaskStatus(tasksObject.value.status)}</Table.Cell>\n                    </Table.Row>);\n                }\n            }\n        }\n        return (cells);\n    }\n\n    componentDidMount() {\n        const contract = this.props.drizzle.contracts.ContractCollaborationManager;\n        const getTasksDataKey = contract.methods.getTasks.cacheCall();\n\n        let ids = [];\n        const getTaskByIdDataKeys = [];\n        for (let i = 0; i < 100; i++) {\n            ids.push(i);\n        }\n        ids.forEach(id => {\n            getTaskByIdDataKeys.push(contract.methods.getTaskById.cacheCall(id));\n        });\n        this.setState({ getTasksDataKey, getTaskByIdDataKeys });\n    }\n\n    render() {\n        const ccmState = this.props.drizzleState.contracts.ContractCollaborationManager;\n        const tasksObject = ccmState.getTasks[this.state.getTasksDataKey];\n\n        const newCells = this.createTableContent(tasksObject);\n        console.log(this.getAllTasks());\n\n        return (\n            <div className=\"task-table\">\n                <Table celled>\n                    <Table.Header>\n                        <Table.Row>\n                            <Table.HeaderCell>Task Id</Table.HeaderCell>\n                            <Table.HeaderCell>Description</Table.HeaderCell>\n                            <Table.HeaderCell>Type</Table.HeaderCell>\n                            <Table.HeaderCell>Owner</Table.HeaderCell>\n                            <Table.HeaderCell>Requirements</Table.HeaderCell>\n                            <Table.HeaderCell>Status</Table.HeaderCell>\n                        </Table.Row>\n                    </Table.Header>\n\n                    <Table.Body>\n\n                        {newCells}\n\n                    </Table.Body>\n                </Table>\n            </div>\n        );\n    }\n}\n\nexport default TaskTableComponent;\n"]},"metadata":{},"sourceType":"module"}