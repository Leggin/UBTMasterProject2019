{"ast":null,"code":"import _classCallCheck from \"/home/nicolas/Dokumente/Github/drizzle_react/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/nicolas/Dokumente/Github/drizzle_react/client/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar Tasks =\n/*#__PURE__*/\nfunction () {\n  function Tasks() {\n    _classCallCheck(this, Tasks);\n  }\n\n  _createClass(Tasks, null, [{\n    key: \"getTaskIds\",\n    value: function getTaskIds(drizzleState, getTasksDataKey) {\n      var ccmState = drizzleState.contracts.ContractCollaborationManager;\n      var tasksObject = ccmState.getTasks[getTasksDataKey];\n\n      if (tasksObject) {\n        return tasksObject.value;\n      }\n\n      return [];\n    }\n  }, {\n    key: \"getAllTasks\",\n    value: function getAllTasks(drizzleState, getTaskByIdDataKeys, getTasksDataKey) {\n      var tasks = [];\n      var ccmState = drizzleState.contracts.ContractCollaborationManager;\n      var taskIds = this.getTaskIds(drizzleState, getTasksDataKey);\n\n      if (taskIds) {\n        for (var _index = 0; _index < taskIds.length; _index++) {\n          var tasksObject = ccmState.getTaskById[getTaskByIdDataKeys[_index]];\n\n          if (tasksObject) {\n            tasks.push({\n              description: tasksObject.value.description,\n              tasktype: tasksObject.value.tasktype,\n              resource: tasksObject.value.resource,\n              requirements: tasksObject.value.requirements,\n              status: tasksObject.value.status,\n              id: _index\n            });\n          }\n        }\n      }\n\n      return tasks;\n    }\n  }, {\n    key: \"getAllTasksPromise\",\n    value: function getAllTasksPromise(contract, taskCallback) {\n      contract.methods.getTaskIds(index).call().then(function (ids) {\n        var _loop = function _loop(_index2) {\n          contract.methods.getTaskById(_index2).call().then(function (task) {\n            result = {\n              description: task.value.description,\n              tasktype: task.value.tasktype,\n              resource: task.value.resource,\n              requirements: task.value.requirements,\n              status: task.value.status,\n              id: _index2\n            };\n            taskCallback(_index2, result);\n          });\n        };\n\n        for (var _index2 = 0; _index2 < ids; _index2++) {\n          _loop(_index2);\n        }\n      });\n      var taskIds = this.getTaskIds(drizzleState, getTasksDataKey);\n\n      if (taskIds) {\n        for (var _index3 = 0; _index3 < taskIds.length; _index3++) {\n          var tasksObject = ccmState.getTaskById[getTaskByIdDataKeys[_index3]];\n\n          if (tasksObject) {\n            tasks.push({\n              description: tasksObject.value.description,\n              tasktype: tasksObject.value.tasktype,\n              resource: tasksObject.value.resource,\n              requirements: tasksObject.value.requirements,\n              status: tasksObject.value.status,\n              id: _index3\n            });\n          }\n        }\n      }\n\n      return tasks;\n    }\n  }, {\n    key: \"getAllTasksWithDecision\",\n    value: function getAllTasksWithDecision(contract, drizzleState, getTaskByIdDataKeys, getTasksDataKey, decisionDataCallback) {\n      var tasks = [];\n      var ccmState = drizzleState.contracts.ContractCollaborationManager;\n      var taskIds = this.getTaskIds(drizzleState, getTasksDataKey);\n\n      if (taskIds) {\n        var _loop2 = function _loop2(_index4) {\n          var tasksObject = ccmState.getTaskById[getTaskByIdDataKeys[_index4]];\n\n          if (tasksObject) {\n            tasks.push({\n              description: tasksObject.value.description,\n              tasktype: tasksObject.value.tasktype,\n              resource: tasksObject.value.resource,\n              requirements: tasksObject.value.requirements,\n              status: tasksObject.value.status,\n              id: _index4\n            });\n            contract.methods.getIntegerDecision(_index4).call().then(function (decisionObject) {\n              decisionDataCallback(_index4, decisionObject);\n            });\n          }\n        };\n\n        for (var _index4 = 0; _index4 < taskIds.length; _index4++) {\n          _loop2(_index4);\n        }\n      }\n\n      return tasks;\n    }\n  }]);\n\n  return Tasks;\n}();\n\nexport default Tasks;","map":{"version":3,"sources":["/home/nicolas/Dokumente/Github/drizzle_react/client/src/Tasks.js"],"names":["Tasks","drizzleState","getTasksDataKey","ccmState","contracts","ContractCollaborationManager","tasksObject","getTasks","value","getTaskByIdDataKeys","tasks","taskIds","getTaskIds","index","length","getTaskById","push","description","tasktype","resource","requirements","status","id","contract","taskCallback","methods","call","then","ids","task","result","decisionDataCallback","getIntegerDecision","decisionObject"],"mappings":"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","sourcesContent":["class Tasks {\n\n    static getTaskIds(drizzleState, getTasksDataKey) {\n        const ccmState = drizzleState.contracts.ContractCollaborationManager;\n        const tasksObject = ccmState.getTasks[getTasksDataKey];\n\n        if (tasksObject) {\n            return tasksObject.value;\n        }\n        return [];\n    }\n\n    static getAllTasks(drizzleState, getTaskByIdDataKeys, getTasksDataKey) {\n        let tasks = [];\n        const ccmState = drizzleState.contracts.ContractCollaborationManager;\n        const taskIds = this.getTaskIds(drizzleState, getTasksDataKey);\n\n        if (taskIds) {\n            for (let index = 0; index < taskIds.length; index++) {\n                const tasksObject = ccmState.getTaskById[getTaskByIdDataKeys[index]];\n                if (tasksObject) {\n                    tasks.push({\n                        description: tasksObject.value.description,\n                        tasktype: tasksObject.value.tasktype,\n                        resource: tasksObject.value.resource,\n                        requirements: tasksObject.value.requirements,\n                        status: tasksObject.value.status,\n                        id: index,\n                    });\n                }\n            }\n        }\n        return tasks;\n    }\n\n    static getAllTasksPromise(contract, taskCallback) {\n\n        contract.methods.getTaskIds(index).call().then((ids) => {\n            for (let index = 0; index < ids; index++) {\n                contract.methods.getTaskById(index).call().then((task) => {\n                    result = {\n                        description: task.value.description,\n                        tasktype: task.value.tasktype,\n                        resource: task.value.resource,\n                        requirements: task.value.requirements,\n                        status: task.value.status,\n                        id: index,\n                    };\n                    taskCallback(index, result);\n                });\n            }\n        });\n\n        const taskIds = this.getTaskIds(drizzleState, getTasksDataKey);\n\n        if (taskIds) {\n            for (let index = 0; index < taskIds.length; index++) {\n                const tasksObject = ccmState.getTaskById[getTaskByIdDataKeys[index]];\n                if (tasksObject) {\n                    tasks.push({\n                        description: tasksObject.value.description,\n                        tasktype: tasksObject.value.tasktype,\n                        resource: tasksObject.value.resource,\n                        requirements: tasksObject.value.requirements,\n                        status: tasksObject.value.status,\n                        id: index,\n                    });\n                }\n            }\n        }\n        return tasks;\n    }\n\n    static getAllTasksWithDecision(contract, drizzleState, getTaskByIdDataKeys, getTasksDataKey, decisionDataCallback) {\n        let tasks = [];\n        const ccmState = drizzleState.contracts.ContractCollaborationManager;\n        const taskIds = this.getTaskIds(drizzleState, getTasksDataKey);\n\n        if (taskIds) {\n            for (let index = 0; index < taskIds.length; index++) {\n                const tasksObject = ccmState.getTaskById[getTaskByIdDataKeys[index]];\n\n                if (tasksObject) {\n                    tasks.push({\n                        description: tasksObject.value.description,\n                        tasktype: tasksObject.value.tasktype,\n                        resource: tasksObject.value.resource,\n                        requirements: tasksObject.value.requirements,\n                        status: tasksObject.value.status,\n                        id: index,\n                    });\n                    contract.methods.getIntegerDecision(index).call().then((decisionObject) => {\n                        decisionDataCallback(index, decisionObject);\n                    });\n                }\n            }\n        }\n        return tasks;\n    }\n}\nexport default Tasks"]},"metadata":{},"sourceType":"module"}