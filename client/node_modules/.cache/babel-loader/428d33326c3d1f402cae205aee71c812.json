{"ast":null,"code":"import _defineProperty from \"/home/nicolas/Dokumente/Github/drizzle_react/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/nicolas/Dokumente/Github/drizzle_react/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/nicolas/Dokumente/Github/drizzle_react/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/nicolas/Dokumente/Github/drizzle_react/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/nicolas/Dokumente/Github/drizzle_react/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/nicolas/Dokumente/Github/drizzle_react/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/nicolas/Dokumente/Github/drizzle_react/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/nicolas/Dokumente/Github/drizzle_react/client/src/CreateTask.js\";\nimport React from \"react\";\nimport Multiselect from 'multiselect-dropdown-react';\n\nvar CreateTask =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CreateTask, _React$Component);\n\n  function CreateTask(props) {\n    var _this;\n\n    _classCallCheck(this, CreateTask);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreateTask).call(this, props));\n\n    _this.handleCreateTask = function () {\n      var _this$props = _this.props,\n          drizzle = _this$props.drizzle,\n          drizzleState = _this$props.drizzleState;\n      var contract = drizzle.contracts.ContractCollaborationManager; // let drizzle know we want to call the `set` method with `value`\n\n      var stackId = contract.methods.createTask.cacheSend(_this.state.activity, _this.state.address, _this.state.tasktype, _this.state.requirements, {\n        from: drizzleState.accounts[0],\n        gas: 600000\n      }); //console.log(this.state.requirements);\n      // save the `stackId` for later reference\n\n      _this.setState({\n        stackId: stackId\n      });\n    };\n\n    _this.state = {\n      stackId: null,\n      taskTypes: [\"Task\", \"Parallel\", \"OR\", \"EXCLUSIVE\"],\n      activity: '',\n      address: '',\n      tasktype: '',\n      requirements: [],\n      dataKey: null,\n      tasks: null,\n      reqoptions: []\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleRequirements = _this.handleRequirements.bind(_assertThisInitialized(_assertThisInitialized(_this))); //this.handleCreateTask = this.handleCreateTask.bind(this);\n\n    return _this;\n  }\n\n  _createClass(CreateTask, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var drizzle = this.props.drizzle;\n      var contract = drizzle.contracts.ContractCollaborationManager;\n      var dataKey = contract.methods.getTasks.cacheCall();\n      this.setState({\n        dataKey: dataKey\n      }); //console.log(drizzle.web3);\n    }\n  }, {\n    key: \"updateOptions\",\n    value: function updateOptions(tasksObject) {\n      var optionlist = [];\n\n      if (tasksObject.value !== undefined) {\n        for (var i = 0; i < tasksObject.value.length; i++) {\n          var option = {\n            value: parseInt(tasksObject.value[i]),\n            name: tasksObject.value[i] //console.log(option);\n\n          };\n          optionlist.push(option);\n        }\n      }\n\n      return optionlist;\n    }\n  }, {\n    key: \"handleRequirements\",\n    value: function handleRequirements(req) {\n      //console.log(req);\n      this.setState({\n        requirements: req\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(evt) {\n      this.setState(_defineProperty({}, evt.target.name, evt.target.value)); //console.log(this.state.reqoptions);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var ContractCollaborationManager = this.props.drizzleState.contracts.ContractCollaborationManager;\n      var tasksObject = ContractCollaborationManager.getTasks[this.state.dataKey];\n      console.log(\"Tasks are:\", tasksObject);\n      var options = this.updateOptions(tasksObject); //const blub = [{ value: 10, name: \"HARALD\" }];\n\n      return React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        onClick: this.handleCreateTask,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Create Task\"), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \" Activity\", React.createElement(\"input\", {\n        type: \"text\",\n        name: \"activity\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \" Address:\", React.createElement(\"input\", {\n        type: \"text\",\n        name: \"address\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \" Tasktype:\", React.createElement(\"input\", {\n        type: \"text\",\n        name: \"tasktype\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \" Requirements:\", React.createElement(Multiselect, {\n        options: options,\n        onSelectOptions: this.handleRequirements,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return CreateTask;\n}(React.Component);\n\nexport default CreateTask;","map":{"version":3,"sources":["/home/nicolas/Dokumente/Github/drizzle_react/client/src/CreateTask.js"],"names":["React","Multiselect","CreateTask","props","handleCreateTask","drizzle","drizzleState","contract","contracts","ContractCollaborationManager","stackId","methods","createTask","cacheSend","state","activity","address","tasktype","requirements","from","accounts","gas","setState","taskTypes","dataKey","tasks","reqoptions","handleChange","bind","handleRequirements","getTasks","cacheCall","tasksObject","optionlist","value","undefined","i","length","option","parseInt","name","push","req","evt","target","console","log","options","updateOptions","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Multiselect from 'multiselect-dropdown-react';\n\nclass CreateTask extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            stackId: null,\n            taskTypes: [\"Task\", \"Parallel\", \"OR\", \"EXCLUSIVE\"],\n            activity: '',\n            address: '',\n            tasktype: '',\n            requirements: [],\n            dataKey: null,\n            tasks: null,\n            reqoptions: []\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.handleRequirements = this.handleRequirements.bind(this);\n        //this.handleCreateTask = this.handleCreateTask.bind(this);\n    }\n\n\n    componentDidMount() {\n        const { drizzle } = this.props;\n        const contract = drizzle.contracts.ContractCollaborationManager;\n        const dataKey = contract.methods.getTasks.cacheCall();\n        this.setState({ dataKey });\n        //console.log(drizzle.web3);\n    }\n\n    updateOptions(tasksObject) {\n        const optionlist = []\n        if (tasksObject.value !== undefined) {\n            for (var i = 0; i < tasksObject.value.length; i++) {\n                let option = { value: parseInt(tasksObject.value[i]), name: tasksObject.value[i] }\n                //console.log(option);\n                optionlist.push(option)\n            }\n        }\n\n        return optionlist;\n    }\n    handleRequirements(req) {\n        //console.log(req);\n        this.setState({ requirements: req });\n    }\n\n    handleChange(evt) {\n        this.setState({ [evt.target.name]: evt.target.value });\n        //console.log(this.state.reqoptions);\n    }\n\n\n    handleCreateTask = () => {\n        const { drizzle, drizzleState } = this.props;\n        const contract = drizzle.contracts.ContractCollaborationManager;\n\n        // let drizzle know we want to call the `set` method with `value`\n        const stackId = contract.methods.createTask.cacheSend(this.state.activity,\n            this.state.address, this.state.tasktype, this.state.requirements, {\n                from: drizzleState.accounts[0],\n                gas: 600000\n            });\n        //console.log(this.state.requirements);\n        // save the `stackId` for later reference\n        this.setState({ stackId });\n\n    }\n\n    render() {\n        const { ContractCollaborationManager } = this.props.drizzleState.contracts;\n        const tasksObject = ContractCollaborationManager.getTasks[this.state.dataKey];\n        console.log(\"Tasks are:\", tasksObject);\n\n        let options = this.updateOptions(tasksObject);\n        //const blub = [{ value: 10, name: \"HARALD\" }];\n        return (\n            <form>\n                <button type=\"button\" onClick={this.handleCreateTask}>\n                    Create Task\n                 </button>\n\n                <label> Activity\n                     <input type=\"text\" name=\"activity\" onChange={this.handleChange} />\n                </label>\n                <label> Address:\n                     <input type=\"text\" name=\"address\" onChange={this.handleChange} />\n                </label>\n                <label> Tasktype:\n                     <input type=\"text\" name=\"tasktype\" onChange={this.handleChange} />\n                </label>\n                <label> Requirements:\n                   <Multiselect options={options} onSelectOptions={this.handleRequirements} />\n                </label>\n            </form>\n        );\n    }\n}\n\nexport default CreateTask;\n"]},"metadata":{},"sourceType":"module"}