{"ast":null,"code":"import _classCallCheck from \"/home/nicolas/Dokumente/Github/drizzle_react/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/nicolas/Dokumente/Github/drizzle_react/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/nicolas/Dokumente/Github/drizzle_react/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/nicolas/Dokumente/Github/drizzle_react/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/nicolas/Dokumente/Github/drizzle_react/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/nicolas/Dokumente/Github/drizzle_react/client/src/AddDecisionComponent.js\";\nimport React from \"react\";\nimport * as c from './Constants.js';\nimport { Dropdown } from 'semantic-ui-react';\nimport Tasks from \"./Tasks\";\n\nvar AddDecisionComponent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddDecisionComponent, _React$Component);\n\n  function AddDecisionComponent(props) {\n    var _this;\n\n    _classCallCheck(this, AddDecisionComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddDecisionComponent).call(this, props));\n    _this.state = {\n      selectedTask: null\n    };\n    _this.decisionTypes = c.DECISIONTYPES;\n    _this.operator = c.OPERATORS;\n    _this.gatewayTypes = c.GATEWAYTPYES;\n    return _this;\n  }\n\n  _createClass(AddDecisionComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var contract = this.props.drizzle.contracts.ContractCollaborationManager;\n      var getTasksDataKey = contract.methods.getTasks.cacheCall();\n      var getPayloadsDataKey = contract.methods.getGlobalIntPayloads.cacheCall();\n      var getTaskCountKey = contract.methods.getTaskCount.cacheCall();\n      var ccmState = this.props.drizzleState.contracts.ContractCollaborationManager;\n      var taskCount = ccmState.getTaskCount[getTaskCountKey];\n      taskCount = taskCount ? Number(ccmState.getTaskCount[getTaskCountKey].value) : taskCount;\n      var ids = [];\n\n      for (var i = 0; i <= taskCount; i++) {\n        ids.push(i);\n      }\n\n      var getTaskByIdDataKeys = [];\n      ids.forEach(function (id) {\n        getTaskByIdDataKeys.push(contract.methods.getTaskById.cacheCall(id));\n      });\n      this.setState({\n        getTasksDataKey: getTasksDataKey,\n        getTaskByIdDataKeys: getTaskByIdDataKeys,\n        getPayloadsDataKey: getPayloadsDataKey\n      });\n      console.log(\"taskArray\", contract.methods.taskcount.cacheCall());\n    }\n  }, {\n    key: \"getTaskDropdownOptions\",\n    value: function getTaskDropdownOptions() {\n      var tasks = Tasks.getAllTasks(this.props.drizzleState, this.state.getTaskByIdDataKeys, this.state.getTasksDataKey);\n      var options = [];\n      tasks.forEach(function (task) {\n        options.push({\n          key: task.id,\n          value: task.id,\n          text: task.description\n        });\n      });\n      return options;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var taskOptions = this.getTaskDropdownOptions();\n      return React.createElement(\"form\", {\n        className: \"add-task-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"add-task-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Dropdown, {\n        placeholder: \"Select Task\",\n        onChange: function onChange(event, data) {\n          _this2.setState({\n            selectedTask: data.value\n          });\n        },\n        fluid: true,\n        selection: true,\n        options: taskOptions,\n        value: this.state.selectedTask,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"button\",\n        onClick: this.handleCreateTask,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Create Task\"));\n    }\n  }]);\n\n  return AddDecisionComponent;\n}(React.Component);\n\nexport default AddDecisionComponent;","map":{"version":3,"sources":["/home/nicolas/Dokumente/Github/drizzle_react/client/src/AddDecisionComponent.js"],"names":["React","c","Dropdown","Tasks","AddDecisionComponent","props","state","selectedTask","decisionTypes","DECISIONTYPES","operator","OPERATORS","gatewayTypes","GATEWAYTPYES","contract","drizzle","contracts","ContractCollaborationManager","getTasksDataKey","methods","getTasks","cacheCall","getPayloadsDataKey","getGlobalIntPayloads","getTaskCountKey","getTaskCount","ccmState","drizzleState","taskCount","Number","value","ids","i","push","getTaskByIdDataKeys","forEach","id","getTaskById","setState","console","log","taskcount","tasks","getAllTasks","options","task","key","text","description","taskOptions","getTaskDropdownOptions","event","data","handleCreateTask","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport * as c from './Constants.js'\nimport { Dropdown } from 'semantic-ui-react'\nimport Tasks from \"./Tasks\"\n\n\nclass AddDecisionComponent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedTask: null,\n        }\n        this.decisionTypes = c.DECISIONTYPES;\n        this.operator = c.OPERATORS;\n        this.gatewayTypes = c.GATEWAYTPYES\n    }\n\n    componentDidMount() {\n        const contract = this.props.drizzle.contracts.ContractCollaborationManager;\n        const getTasksDataKey = contract.methods.getTasks.cacheCall();\n        const getPayloadsDataKey = contract.methods.getGlobalIntPayloads.cacheCall();\n        const getTaskCountKey = contract.methods.getTaskCount.cacheCall();\n        const ccmState = this.props.drizzleState.contracts.ContractCollaborationManager;\n\n        let taskCount = ccmState.getTaskCount[getTaskCountKey];\n        taskCount = (taskCount) ? Number(ccmState.getTaskCount[getTaskCountKey].value) : taskCount;\n        let ids = [];\n        for (let i = 0; i <= taskCount; i++) {\n            ids.push(i);\n        }\n\n\n        const getTaskByIdDataKeys = [];\n\n        ids.forEach(id => {\n            getTaskByIdDataKeys.push(contract.methods.getTaskById.cacheCall(id));\n        });\n        this.setState({ getTasksDataKey, getTaskByIdDataKeys, getPayloadsDataKey });\n        console.log(\"taskArray\", contract.methods.taskcount.cacheCall());\n    }\n\n    getTaskDropdownOptions() {\n        let tasks = Tasks.getAllTasks(this.props.drizzleState, this.state.getTaskByIdDataKeys, this.state.getTasksDataKey);\n        let options = [];\n\n        tasks.forEach(task => {\n            options.push({ key: task.id, value: task.id, text: task.description });\n        });\n        return options;\n    }\n\n    render() {\n\n        let taskOptions = this.getTaskDropdownOptions();\n\n\n        return (\n            <form className=\"add-task-form\" >\n                <label className=\"add-task-label\">\n                    <Dropdown placeholder='Select Task' onChange={\n                        (event, data) => {\n                            this.setState({ selectedTask: data.value });\n                        }\n                    } fluid selection options={taskOptions} value={this.state.selectedTask} />\n                </label>\n\n                {/* <label className=\"add-task-label\">\n                    <Dropdown placeholder='Select Global Payload' onChange={\n                        (event, data) => {\n                            this.setState({ taskType: data.value });\n                        }} fluid selection options={this.taskTypes} value={this.state.taskType} />\n                </label>\n\n                <label className=\"add-task-label\">\n                    <Dropdown placeholder='Requirements' onChange={\n                        (event, data) => {\n                            this.setState({ requirements: data.value });\n                        }\n                    }\n                        fluid multiple selection options={newOptions} value={this.state.requirements} />\n                </label> */}\n                <button type=\"button\" onClick={this.handleCreateTask}>\n                    Create Task\n                 </button>\n            </form >\n        );\n    }\n}\n\n\n\nexport default AddDecisionComponent;"]},"metadata":{},"sourceType":"module"}